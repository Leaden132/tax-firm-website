---
const currentPath = Astro.url.pathname;
const navLinks = [
  { href: '/', label: 'Home' },
  { href: '/services/', label: 'Services' },
  { href: '/cross-border-tax/', label: 'Cross-Border Tax' },
  { href: '/bookkeeping/', label: 'Bookkeeping' },
  { href: '/about/', label: 'About' },
  { href: '/contact/', label: 'Contact' },
];
---
<header class="site-header">
  <div class="top-bar">
    <div class="container top-bar-inner">
      <div class="top-bar-contact">
        <a href="mailto:hills.tax@outlook.com">hills.tax@outlook.com</a>
        <span class="divider">|</span>
        <a href="tel:+1XXXXXXXXXX">(XXX) XXX-XXXX</a>
      </div>
      <a href="/contact/" class="top-bar-cta">Book Free Consultation</a>
    </div>
  </div>
  <nav class="main-nav">
    <div class="container nav-inner">
      <a href="/" class="logo">
        <span class="logo-text">Hills</span><span class="logo-accent">Tax</span>
      </a>
      <button class="mobile-toggle" aria-label="Toggle menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
      <ul class="nav-links">
        {navLinks.map(link => (
          <li>
            <a href={link.href} class={currentPath === link.href ? 'active' : ''}>
              {link.label}
            </a>
          </li>
        ))}
      </ul>
    </div>
  </nav>
</header>
<style>
  .site-header { position: sticky; top: 0; z-index: 1000; }
  .top-bar {
    background: var(--navy-dark);
    color: var(--white);
    font-size: 0.875rem;
    padding: 0.5rem 0;
  }
  .top-bar-inner { display: flex; justify-content: space-between; align-items: center; }
  .top-bar-contact a { color: var(--gray-200); transition: color var(--transition); }
  .top-bar-contact a:hover { color: var(--gold); }
  .top-bar-contact .divider { margin: 0 0.75rem; color: var(--gray-600); }
  .top-bar-cta {
    background: var(--gold);
    color: var(--navy-dark);
    padding: 0.35rem 1rem;
    border-radius: 3px;
    font-weight: 600;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: background var(--transition);
  }
  .top-bar-cta:hover { background: var(--gold-light); }
  .main-nav {
    background: var(--navy);
    padding: 0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.15);
  }
  .nav-inner { display: flex; justify-content: space-between; align-items: center; height: 70px; }
  .logo { display: flex; align-items: baseline; gap: 2px; font-size: 1.75rem; }
  .logo-text { font-family: var(--font-heading); color: var(--white); font-weight: 700; }
  .logo-accent { font-family: var(--font-heading); color: var(--gold); font-weight: 700; }
  .nav-links { display: flex; list-style: none; gap: 0.25rem; }
  .nav-links a {
    color: var(--gray-200);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    font-size: 0.95rem;
    transition: all var(--transition);
  }
  .nav-links a:hover, .nav-links a.active {
    color: var(--gold);
    background: rgba(255,255,255,0.05);
  }
  .mobile-toggle { display: none; background: none; border: none; cursor: pointer; padding: 0.5rem; }
  .mobile-toggle span {
    display: block;
    width: 24px;
    height: 2px;
    background: var(--white);
    margin: 5px 0;
    transition: var(--transition);
  }
  @media (max-width: 768px) {
    .top-bar-cta { display: none; }
    .mobile-toggle { display: block; }
    .nav-links {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--navy);
      flex-direction: column;
      padding: 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .nav-links.open { display: flex; }
    .nav-links a { padding: 0.75rem 1rem; }
  }
</style>
<script>
  document.querySelector('.mobile-toggle')?.addEventListener('click', function() {
    const nav = document.querySelector('.nav-links');
    const expanded = this.getAttribute('aria-expanded') === 'true';
    nav?.classList.toggle('open');
    this.setAttribute('aria-expanded', String(!expanded));
  });
</script>
